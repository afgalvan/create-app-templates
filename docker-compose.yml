---
version: '3.9'

services:
  api:
    container_name: api_template
    image: api_template
    restart: always
    build: .
    volumes:
      - ./src:/app/src
    ports:
      - 8081:8081

  nginx:
    container_name: api_proxy
    image: nginx:1.20-alpine
    restart: always
    ports:
      - 80:80
      - 443:433
    volumes: nginx/nginx.conf:/etc/nginx/nginx.conf
    depends_on:
      - api
